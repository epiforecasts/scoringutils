<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Summarise scores as produced by score() — summarise_scores • scoringutils</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Summarise scores as produced by score() — summarise_scores"><meta name="description" content='Summarise scores as produced by score().
summarise_scores relies on a way to identify the names of the scores and
distinguish them from columns that denote the unit of a single forecast.
Internally, this is done via a stored attribute, metrics that stores
the names of the scores. This means, however, that you need to be careful
with renaming scores after they have been produced by score(). If you
do, you also have to manually update the attribute by calling
attr(scores, "metrics") &amp;lt;- new_names.'><meta property="og:description" content='Summarise scores as produced by score().
summarise_scores relies on a way to identify the names of the scores and
distinguish them from columns that denote the unit of a single forecast.
Internally, this is done via a stored attribute, metrics that stores
the names of the scores. This means, however, that you need to be careful
with renaming scores after they have been produced by score(). If you
do, you also have to manually update the attribute by calling
attr(scores, "metrics") &amp;lt;- new_names.'><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">scoringutils</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.2.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://raw.githubusercontent.com/epiforecasts/scoringutils/main/inst/manuscript/manuscript.pdf">scoringutils paper</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Deprecated-functions.html">Deprecated functions</a></li>
    <li><a class="dropdown-item" href="../articles/Deprecated-visualisations.html">Deprecated Visualisations</a></li>
    <li><a class="dropdown-item" href="../articles/scoring-rules.html">Scoring rules in `scoringutils`</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/epiforecasts/scoringutils/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Summarise scores as produced by <code><a href="score.html">score()</a></code></h1>
      <small class="dont-index">Source: <a href="https://github.com/epiforecasts/scoringutils/blob/main/R/summarise_scores.R" class="external-link"><code>R/summarise_scores.R</code></a></small>
      <div class="d-none name"><code>summarise_scores.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Summarise scores as produced by <code><a href="score.html">score()</a></code>.</p>
<p><code>summarise_scores</code> relies on a way to identify the names of the scores and
distinguish them from columns that denote the unit of a single forecast.
Internally, this is done via a stored attribute, <code>metrics</code> that stores
the names of the scores. This means, however, that you need to be careful
with renaming scores after they have been produced by <code><a href="score.html">score()</a></code>. If you
do, you also have to manually update the attribute by calling
<code>attr(scores, "metrics") &lt;- new_names</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">summarise_scores</span><span class="op">(</span><span class="va">scores</span>, by <span class="op">=</span> <span class="st">"model"</span>, fun <span class="op">=</span> <span class="va">mean</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">summarize_scores</span><span class="op">(</span><span class="va">scores</span>, by <span class="op">=</span> <span class="st">"model"</span>, fun <span class="op">=</span> <span class="va">mean</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-scores">scores<a class="anchor" aria-label="anchor" href="#arg-scores"></a></dt>
<dd><p>An object of class <code>scores</code> (a data.table with
scores and an additional attribute <code>metrics</code> as produced by <code><a href="score.html">score()</a></code>).</p></dd>


<dt id="arg-by">by<a class="anchor" aria-label="anchor" href="#arg-by"></a></dt>
<dd><p>Character vector with column names to summarise scores by. Default
is <code>model</code>, meaning that there will be one score per model in the output.</p></dd>


<dt id="arg-fun">fun<a class="anchor" aria-label="anchor" href="#arg-fun"></a></dt>
<dd><p>A function used for summarising scores. Default is <code><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean()</a></code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional parameters that can be passed to the summary function
provided to <code>fun</code>. For more information see the documentation of the
respective function.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data.table with summarised scores. Scores are summarised according
to the names of the columns of the original data specified in <code>by</code>
using the <code>fun</code> passed to <code>summarise_scores()</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span> <span class="co"># pipe operator</span></span></span>
<span class="r-in"><span><span class="va">scores</span> <span class="op">&lt;-</span> <span class="fu"><a href="score.html">score</a></span><span class="op">(</span><span class="fu"><a href="as_forecast.html">as_forecast_sample</a></span><span class="op">(</span><span class="va">example_sample_continuous</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Some rows containing NA values may be removed. This is fine if not</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   unexpected.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># get scores by model</span></span></span>
<span class="r-in"><span><span class="fu">summarise_scores</span><span class="op">(</span><span class="va">scores</span>, by <span class="op">=</span> <span class="st">"model"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    model         bias      dss        crps overprediction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   &lt;char&gt;        &lt;num&gt;    &lt;num&gt;       &lt;num&gt;          &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: EuroCOVIDhub-ensemble  0.009765625 16.40496  9876.95886     5281.81845</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: EuroCOVIDhub-baseline  0.177734375      NaN 15309.68627     6701.83844</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:  epiforecasts-EpiNow2 -0.024898785 26.10137 11901.43354     6986.16572</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:       UMass-MechBayes -0.026953125 10.08582    60.19018       11.20505</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    underprediction dispersion log_score        mad   ae_median      se_mean</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              &lt;num&gt;      &lt;num&gt;     &lt;num&gt;      &lt;num&gt;       &lt;num&gt;        &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:      2433.20525 2161.93515 10.747811  8763.6176 12406.03100 2.103026e+09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:      5864.53649 2743.31134       Inf  9680.3792 18932.50196 2.885063e+09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:      1740.93388 3174.33393       Inf 12999.5404 14680.12285 3.152268e+09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:        19.28195   29.70318  5.941622   123.6211    79.66001 1.371418e+04</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># get scores by model and target type</span></span></span>
<span class="r-in"><span><span class="fu">summarise_scores</span><span class="op">(</span><span class="va">scores</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"model"</span>, <span class="st">"target_type"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    model target_type        bias      dss        crps</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   &lt;char&gt;      &lt;char&gt;       &lt;num&gt;    &lt;num&gt;       &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: EuroCOVIDhub-ensemble       Cases -0.04648437 22.89997 19703.05522</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: EuroCOVIDhub-baseline       Cases  0.03671875      NaN 30453.58346</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:  epiforecasts-EpiNow2       Cases -0.03867188 40.87716 22896.51608</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4: EuroCOVIDhub-ensemble      Deaths  0.06601562  9.90995    50.86249</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5: EuroCOVIDhub-baseline      Deaths  0.31875000 12.99360   165.78907</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:       UMass-MechBayes      Deaths -0.02695313 10.08582    60.19018</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7:  epiforecasts-EpiNow2      Deaths -0.01008403 10.20807    74.79013</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    overprediction underprediction dispersion log_score        mad   ae_median</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             &lt;num&gt;           &lt;num&gt;      &lt;num&gt;     &lt;num&gt;      &lt;num&gt;       &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:    10552.97603     4861.015121 4289.06407 15.633420 17385.2629 24749.39707</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:    13346.03509    11727.330575 5380.21780       Inf 18982.2128 37648.01693</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:    13462.90822     3346.583024 6087.02483       Inf 24929.3438 28233.04536</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:       10.66088        5.395380   34.80623  5.862203   141.9723    62.66492</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:       57.64179        1.742401  106.40489  6.977391   378.5457   216.98699</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:       11.20505       19.281946   29.70318  5.941622   123.6211    79.66001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7:       19.58555       13.849095   41.35549  6.024092   167.4829   102.18939</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         se_mean</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: 4.206042e+09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: 5.769964e+09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: 6.082863e+09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4: 1.080233e+04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5: 1.622417e+05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6: 1.371418e+04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7: 3.243111e+04</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># get standard deviation</span></span></span>
<span class="r-in"><span><span class="fu">summarise_scores</span><span class="op">(</span><span class="va">scores</span>, by <span class="op">=</span> <span class="st">"model"</span>, fun <span class="op">=</span> <span class="va">sd</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    model      bias        dss        crps overprediction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   &lt;char&gt;     &lt;num&gt;      &lt;num&gt;       &lt;num&gt;          &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: EuroCOVIDhub-ensemble 0.5468290  14.869520 39368.24836    37275.23950</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: EuroCOVIDhub-baseline 0.5457971         NA 45020.82814    39070.74445</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:  epiforecasts-EpiNow2 0.6083410 108.130107 44957.07746    40776.81690</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:       UMass-MechBayes 0.6221914   2.248998    49.62465       21.34675</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    underprediction dispersion log_score        mad   ae_median      se_mean</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              &lt;num&gt;      &lt;num&gt;     &lt;num&gt;      &lt;num&gt;       &lt;num&gt;        &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:      8634.87723 5163.42293 21.510119 19799.1620 42801.64123 1.564286e+10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:     20537.03929 3664.87255       NaN 13610.4174 49458.36446 1.760651e+10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:      8096.39644 7266.11787       NaN 29616.1714 51129.54601 2.209086e+10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:        36.98584   29.60927  1.126019   123.3465    76.09471 2.994664e+04</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># round digits</span></span></span>
<span class="r-in"><span><span class="fu">summarise_scores</span><span class="op">(</span><span class="va">scores</span>,by <span class="op">=</span> <span class="st">"model"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">summarise_scores</span><span class="op">(</span>fun <span class="op">=</span> <span class="va">signif</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    model    bias   dss  crps overprediction underprediction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   &lt;char&gt;   &lt;num&gt; &lt;num&gt; &lt;num&gt;          &lt;num&gt;           &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: EuroCOVIDhub-ensemble  0.0098    16  9900           5300            2400</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: EuroCOVIDhub-baseline  0.1800   NaN 15000           6700            5900</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:  epiforecasts-EpiNow2 -0.0250    26 12000           7000            1700</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:       UMass-MechBayes -0.0270    10    60             11              19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    dispersion log_score   mad ae_median se_mean</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         &lt;num&gt;     &lt;num&gt; &lt;num&gt;     &lt;num&gt;   &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:       2200      11.0  8800     12000 2.1e+09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:       2700       Inf  9700     19000 2.9e+09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:       3200       Inf 13000     15000 3.2e+09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:         30       5.9   120        80 1.4e+04</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://followtheargument.org/" class="external-link">Nikos Bosse</a>, <a href="https://www.samabbott.co.uk/" class="external-link">Sam Abbott</a>, Hugo Gruson, Sebastian Funk.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.9000.</p>
</div>

    </footer></div>





  </body></html>

