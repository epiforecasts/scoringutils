# scoringutils

[![R-CMD-check](https://github.com/epiforecasts/scoringutils/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/epiforecasts/scoringutils/actions/workflows/R-CMD-check.yaml)
[![codecov](https://codecov.io/github/epiforecasts/scoringutils/branch/main/graph/badge.svg)](https://app.codecov.io/gh/epiforecasts/scoringutils)
[![CRAN_Release_Badge](https://www.r-pkg.org/badges/version-ago/scoringutils)](https://CRAN.R-project.org/package=scoringutils)
![GitHub R package
version](https://img.shields.io/github/r-package/v/epiforecasts/scoringutils)[![metacrandownloads](http://cranlogs.r-pkg.org/badges/grand-total/scoringutils)](https://cran.r-project.org/package=scoringutils)

***Note***: [*This
documentation*](https://epiforecasts.io/scoringutils/dev/) *refers to
the development version of `scoringutils`.* *You can also view the*
[*documentation of the stable
version*](https://epiforecasts.io/scoringutils/).

## Utilities for Scoring and Assessing Predictions

The `scoringutils` package facilitates the process of evaluating
forecasts in R, using a convenient and flexible `data.table`-based
framework. It provides broad functionality to check the input data and
diagnose issues, to visualise forecasts and missing data, to transform
data before scoring, to handle missing forecasts, to aggregate scores,
and to visualise the results of the evaluation. The package is easily
extendable, meaning that users can supply their own scoring rules or
extend existing classes to handle new types of forecasts.

The package underwent a major re-write. The most comprehensive
documentation for the updated package is the [revised
version](https://drive.google.com/file/d/1URaMsXmHJ1twpLpMl1sl2HW4lPuUycoj/view?usp=drive_link)
of our [original](https://doi.org/10.48550/arXiv.2205.07090)
`scoringutils` paper.

Another good starting point are the vignettes [Details on the metrics
implemented](https://epiforecasts.io/scoringutils/articles/metric-details.html)
and [Scoring forecasts
directly](https://epiforecasts.io/scoringutils/articles/scoring-forecasts-directly.html).

For further details on the specific issue of transforming forecasts for
scoring see:

> Nikos I. Bosse, Sam Abbott, Anne Cori, Edwin van Leeuwen, Johannes
> Bracher\* and Sebastian Funk\* (\*: equal contribution) (2023).
> *`Scoring epidemiological forecasts on transformed scales`*, PLoS
> Comput Biol 19(8): e1011393
> <https://doi.org/10.1371/journal.pcbi.1011393>

## Installation

Install the CRAN version of this package using

``` r
install.packages("scoringutils")
```

Install the unstable development version from GitHub using

``` r
remotes::install_github("epiforecasts/scoringutils", dependencies = TRUE)
```

## Quick start

### Forecast types

`scoringutils` currently supports scoring the following forecast types:

- `binary`: a probability for a binary (yes/no) outcome variable.
- `point`: a forecast for a continuous or discrete outcome variable that
  is represented by a single number.
- `quantile`: a probabilistic forecast for a continuous or discrete
  outcome variable, with the forecast distribution represented by a set
  of predictive quantiles.
- `sample`: a probabilistic forecast for a continuous or discrete
  outcome variable, with the forecast represented by a finite set of
  samples drawn from the predictive distribution.
- `nominal` categorical forecast with unordered outcome possibilities
  (generalisation of binary forecasts to multiple outcomes)

### Input formats and input validation

The expected input format is generally a `data.frame` (or similar) with
required columns `observed`, and `predicted` that holds the forecasts
and observed values. Exact requirements depend on the forecast type. For
more information, have a look at the
[paper](https://drive.google.com/file/d/1URaMsXmHJ1twpLpMl1sl2HW4lPuUycoj/view?usp=drive_link),
call
[`?as_forecast_binary`](https://epiforecasts.io/scoringutils/dev/reference/as_forecast_binary.md),
[`?as_forecast_quantile`](https://epiforecasts.io/scoringutils/dev/reference/as_forecast_quantile.md)
etc., or have a look at the example data provided in the package
(`example_binary`, `example_point`, `example_quantile`,
`example_sample_continuous`, `example_sample_discrete`,
`example_nominal`).

Before scoring, input data needs to be validated and transformed into a
forecast object using one of the `as_forecast_<type>()` functions.

``` r
forecast_quantile <- example_quantile |>
  as_forecast_quantile(
    forecast_unit = c(
      "location", "forecast_date", "target_end_date", "target_type", "model", "horizon"
    )
  )
#> ℹ Some rows containing NA values may be removed. This is fine if not
#>   unexpected.

print(forecast_quantile, 2)
#> Forecast type: quantile
#> Forecast unit:
#> location, forecast_date, target_end_date, target_type, model, and horizon
#> 
#> Key: <location, target_end_date, target_type>
#>        observed quantile_level predicted location forecast_date target_end_date
#>           <num>          <num>     <int>   <char>        <Date>          <Date>
#>     1:   127300             NA        NA       DE          <NA>      2021-01-02
#>     2:     4534             NA        NA       DE          <NA>      2021-01-02
#>    ---                                                                         
#> 20544:       78          0.975       611       IT    2021-07-12      2021-07-24
#> 20545:       78          0.990       719       IT    2021-07-12      2021-07-24
#>        target_type                model horizon
#>             <char>               <char>   <num>
#>     1:       Cases                 <NA>      NA
#>     2:      Deaths                 <NA>      NA
#>    ---                                         
#> 20544:      Deaths epiforecasts-EpiNow2       2
#> 20545:      Deaths epiforecasts-EpiNow2       2
```

### The forecast unit

For quantile-based and sample-based forecasts, a single prediction is
represented by a set of several quantiles (or samples) from the
predictive distribution, i.e. several rows in the input data.
`scoringutils` therefore needs to group rows together that form a single
forecast. `scoringutils` uses all other existing columns in the input
data to achieve this - the values in all other columns should uniquely
identify a single forecast. Additional columns unrelated to the forecast
unit can mess this up. The `forecast_unit` argument in
`as_forecast_<type>()` makes sure that only those columns are retained
which are relevant for defining the unit of a single forecast.

### Scoring forecasts

Forecasts can be scored by calling
[`score()`](https://epiforecasts.io/scoringutils/dev/reference/score.md)
on a validated forecast object.

``` r
scores <- forecast_quantile |> 
  score()
```

[`score()`](https://epiforecasts.io/scoringutils/dev/reference/score.md)
takes an additional argument, `metrics`, with a list of scoring rules.
Every forecast type has a default list of metrics. You can easily add
your own scoring functions, as long as they conform with the format for
that forecast type. See the
[paper](https://drive.google.com/file/d/1URaMsXmHJ1twpLpMl1sl2HW4lPuUycoj/view?usp=drive_link)
for more information.

You can summarise scores using the function
[`summarise_scores()`](https://epiforecasts.io/scoringutils/dev/reference/summarise_scores.md).
The `by` argument is used to specify the desired level of summary. `fun`
let’s you specify any summary function, although it is recommended to
stick to the mean as a primary summary function, as other functions can
lead to improper scores.

``` r
scores |> 
  summarise_scores(by = c("model", "target_type")) |>
  summarise_scores(by = c("model", "target_type"), fun = signif, digits = 3)
#>                    model target_type     wis overprediction underprediction
#>                   <char>      <char>   <num>          <num>           <num>
#> 1: EuroCOVIDhub-ensemble       Cases 17900.0       10000.00          4240.0
#> 2: EuroCOVIDhub-baseline       Cases 28500.0       14100.00         10300.0
#> 3:  epiforecasts-EpiNow2       Cases 20800.0       11900.00          3260.0
#> 4: EuroCOVIDhub-ensemble      Deaths    41.4           7.14             4.1
#> 5: EuroCOVIDhub-baseline      Deaths   159.0          65.90             2.1
#> 6:       UMass-MechBayes      Deaths    52.7           8.98            16.8
#> 7:  epiforecasts-EpiNow2      Deaths    66.6          18.90            15.9
#>    dispersion     bias interval_coverage_50 interval_coverage_90 ae_median
#>         <num>    <num>                <num>                <num>     <num>
#> 1:     3660.0 -0.05640                0.391                0.805   24100.0
#> 2:     4100.0  0.09800                0.328                0.820   38500.0
#> 3:     5660.0 -0.07890                0.469                0.789   27900.0
#> 4:       30.2  0.07270                0.875                1.000      53.1
#> 5:       91.4  0.33900                0.664                1.000     233.0
#> 6:       26.9 -0.02230                0.461                0.875      78.5
#> 7:       31.9 -0.00513                0.420                0.908     105.0
```

## Package workflow

The following depicts the suggested workflow for evaluating forecasts
with `scoringutils` (sections refer to the paper). Please find more
information in the
[paper](https://drive.google.com/file/d/1URaMsXmHJ1twpLpMl1sl2HW4lPuUycoj/view?usp=drive_link),
the function documentation and the vignettes.

![](./reference/figures/workflow.png)

## Citation

If you are using `scoringutils` in your work please consider citing it
using the output of `citation("scoringutils")` (or
`print(citation("scoringutils"), bibtex = TRUE)`):

``` R
#> To cite scoringutils in publications use the following. If you use the
#> CRPS, DSS, or Log Score, please also cite scoringRules.
#> 
#>   Nikos I. Bosse, Hugo Gruson, Sebastian Funk, Anne Cori, Edwin van
#>   Leeuwen, and Sam Abbott (2022). Evaluating Forecasts with
#>   scoringutils in R, arXiv. DOI: 10.48550/ARXIV.2205.07090
#> 
#> To cite scoringRules in publications use:
#> 
#>   Alexander Jordan, Fabian Krueger, Sebastian Lerch (2019). Evaluating
#>   Probabilistic Forecasts with scoringRules. Journal of Statistical
#>   Software, 90(12), 1-37. DOI 10.18637/jss.v090.i12
#> 
#> To see these entries in BibTeX format, use 'print(<citation>,
#> bibtex=TRUE)', 'toBibtex(.)', or set
#> 'options(citation.bibtex.max=999)'.
```

## How to make a bug report or feature request

Please briefly describe your problem and what output you expect in an
[issue](https://github.com/epiforecasts/scoringutils/issues). If you
have a question, please don’t open an issue. Instead, ask on our [Q and
A
page](https://github.com/epiforecasts/scoringutils/discussions/categories/q-a).

## Contributing

We welcome contributions and new contributors! We particularly
appreciate help on priority problems in the
[issues](https://github.com/epiforecasts/scoringutils/issues). Please
check and add to the issues, and/or add a [pull
request](https://github.com/epiforecasts/scoringutils/pulls).

## Code of Conduct

Please note that the `scoringutils` project is released with a
[Contributor Code of
Conduct](https://epiforecasts.io/scoringutils/CODE_OF_CONDUCT.html). By
contributing to this project, you agree to abide by its terms.

## Funding

The development of `scoringutils` was funded via the Health Protection
Research Unit (grant code NIHR200908) and the Wellcome Trust (grant:
210758/Z/18/Z). This work has also been supported by the US National
Institutes of General Medical Sciences (R35GM119582). The content is
solely the responsibility of the authors and does not necessarily
represent the official views of NIGMS, or the National Institutes of
Health.

## Contributors

All contributions to this project are gratefully acknowledged using the
[`allcontributors` package](https://github.com/ropensci/allcontributors)
following the [all-contributors](https://allcontributors.org)
specification. Contributions of any kind are welcome!

### Code

[nikosbosse](https://github.com/epiforecasts/scoringutils/commits?author=nikosbosse),
[seabbs](https://github.com/epiforecasts/scoringutils/commits?author=seabbs),
[sbfnk](https://github.com/epiforecasts/scoringutils/commits?author=sbfnk),
[jamesmbaazam](https://github.com/epiforecasts/scoringutils/commits?author=jamesmbaazam),
[Bisaloo](https://github.com/epiforecasts/scoringutils/commits?author=Bisaloo),
[actions-user](https://github.com/epiforecasts/scoringutils/commits?author=actions-user),
[toshiakiasakura](https://github.com/epiforecasts/scoringutils/commits?author=toshiakiasakura),
[MichaelChirico](https://github.com/epiforecasts/scoringutils/commits?author=MichaelChirico),
[jcken95](https://github.com/epiforecasts/scoringutils/commits?author=jcken95),
[athowes](https://github.com/epiforecasts/scoringutils/commits?author=athowes),
[nickreich](https://github.com/epiforecasts/scoringutils/commits?author=nickreich),
[damonbayer](https://github.com/epiforecasts/scoringutils/commits?author=damonbayer),
[seabbs-bot](https://github.com/epiforecasts/scoringutils/commits?author=seabbs-bot)

### Issue Authors

[DavideMagno](https://github.com/epiforecasts/scoringutils/issues?q=is%3Aissue+author%3ADavideMagno),
[mbojan](https://github.com/epiforecasts/scoringutils/issues?q=is%3Aissue+author%3Ambojan),
[jhellewell14](https://github.com/epiforecasts/scoringutils/issues?q=is%3Aissue+author%3Ajhellewell14),
[dshemetov](https://github.com/epiforecasts/scoringutils/issues?q=is%3Aissue+author%3Adshemetov),
[elray1](https://github.com/epiforecasts/scoringutils/issues?q=is%3Aissue+author%3Aelray1),
[jonathonmellor](https://github.com/epiforecasts/scoringutils/issues?q=is%3Aissue+author%3Ajonathonmellor),
[dylanhmorris](https://github.com/epiforecasts/scoringutils/issues?q=is%3Aissue+author%3Adylanhmorris),
[annakrystalli](https://github.com/epiforecasts/scoringutils/issues?q=is%3Aissue+author%3Aannakrystalli),
[robchallen](https://github.com/epiforecasts/scoringutils/issues?q=is%3Aissue+author%3Arobchallen),
[teunbrand](https://github.com/epiforecasts/scoringutils/issues?q=is%3Aissue+author%3Ateunbrand),
[RokGrah](https://github.com/epiforecasts/scoringutils/issues?q=is%3Aissue+author%3ARokGrah),
[zsusswein](https://github.com/epiforecasts/scoringutils/issues?q=is%3Aissue+author%3Azsusswein)

### Issue Contributors

[jbracher](https://github.com/epiforecasts/scoringutils/issues?q=is%3Aissue+commenter%3Ajbracher),
[kathsherratt](https://github.com/epiforecasts/scoringutils/issues?q=is%3Aissue+commenter%3Akathsherratt),
[TimTaylor](https://github.com/epiforecasts/scoringutils/issues?q=is%3Aissue+commenter%3ATimTaylor)

# Package index

## Package documentation

- [`scoringutils`](https://epiforecasts.io/scoringutils/dev/reference/scoringutils-package.md)
  [`scoringutils-package`](https://epiforecasts.io/scoringutils/dev/reference/scoringutils-package.md)
  : scoringutils: Utilities for Scoring and Assessing Predictions

## Example data

- [`example_binary`](https://epiforecasts.io/scoringutils/dev/reference/example_binary.md)
  : Binary forecast example data
- [`example_multivariate_sample`](https://epiforecasts.io/scoringutils/dev/reference/example_multivariate_sample.md)
  : Multivariate forecast example data
- [`example_nominal`](https://epiforecasts.io/scoringutils/dev/reference/example_nominal.md)
  : Nominal example data
- [`example_ordinal`](https://epiforecasts.io/scoringutils/dev/reference/example_ordinal.md)
  : Ordinal example data
- [`example_point`](https://epiforecasts.io/scoringutils/dev/reference/example_point.md)
  : Point forecast example data
- [`example_quantile`](https://epiforecasts.io/scoringutils/dev/reference/example_quantile.md)
  : Quantile example data
- [`example_sample_continuous`](https://epiforecasts.io/scoringutils/dev/reference/example_sample_continuous.md)
  : Continuous forecast example data
- [`example_sample_discrete`](https://epiforecasts.io/scoringutils/dev/reference/example_sample_discrete.md)
  : Discrete forecast example data

## Create forecast objects

- [`as_forecast_binary()`](https://epiforecasts.io/scoringutils/dev/reference/as_forecast_binary.md)
  :

  Create a `forecast` object for binary forecasts

- [`as_forecast_doc_template`](https://epiforecasts.io/scoringutils/dev/reference/as_forecast_doc_template.md)
  :

  General information on creating a `forecast` object

- [`as_forecast_generic()`](https://epiforecasts.io/scoringutils/dev/reference/as_forecast_generic.md)
  :

  Common functionality for `as_forecast_<type>` functions

- [`as_forecast_multivariate_point()`](https://epiforecasts.io/scoringutils/dev/reference/as_forecast_multivariate_point.md)
  :

  Create a `forecast` object for multivariate point forecasts

- [`as_forecast_multivariate_sample()`](https://epiforecasts.io/scoringutils/dev/reference/as_forecast_multivariate_sample.md)
  :

  Create a `forecast` object for sample-based multivariate forecasts

- [`as_forecast_nominal()`](https://epiforecasts.io/scoringutils/dev/reference/as_forecast_nominal.md)
  :

  Create a `forecast` object for nominal forecasts

- [`as_forecast_ordinal()`](https://epiforecasts.io/scoringutils/dev/reference/as_forecast_ordinal.md)
  :

  Create a `forecast` object for ordinal forecasts

- [`as_forecast_point()`](https://epiforecasts.io/scoringutils/dev/reference/as_forecast_point.md)
  :

  Create a `forecast` object for point forecasts

- [`as_forecast_quantile()`](https://epiforecasts.io/scoringutils/dev/reference/as_forecast_quantile.md)
  :

  Create a `forecast` object for quantile-based forecasts

- [`as_forecast_sample()`](https://epiforecasts.io/scoringutils/dev/reference/as_forecast_sample.md)
  :

  Create a `forecast` object for sample-based forecasts

- [`set_forecast_unit()`](https://epiforecasts.io/scoringutils/dev/reference/set_forecast_unit.md)
  : Set unit of a single forecast manually

## Validate forecast objects

- [`assert_forecast()`](https://epiforecasts.io/scoringutils/dev/reference/assert_forecast.md)
  : Assert that input is a forecast object and passes validations
- [`is_forecast_binary()`](https://epiforecasts.io/scoringutils/dev/reference/is_forecast.md)
  [`is_forecast_multivariate_point()`](https://epiforecasts.io/scoringutils/dev/reference/is_forecast.md)
  [`is_forecast_multivariate_sample()`](https://epiforecasts.io/scoringutils/dev/reference/is_forecast.md)
  [`is_forecast_sample_multivariate()`](https://epiforecasts.io/scoringutils/dev/reference/is_forecast.md)
  [`is_forecast_nominal()`](https://epiforecasts.io/scoringutils/dev/reference/is_forecast.md)
  [`is_forecast_ordinal()`](https://epiforecasts.io/scoringutils/dev/reference/is_forecast.md)
  [`is_forecast_point()`](https://epiforecasts.io/scoringutils/dev/reference/is_forecast.md)
  [`is_forecast_quantile()`](https://epiforecasts.io/scoringutils/dev/reference/is_forecast.md)
  [`is_forecast_sample()`](https://epiforecasts.io/scoringutils/dev/reference/is_forecast.md)
  [`is_forecast()`](https://epiforecasts.io/scoringutils/dev/reference/is_forecast.md)
  : Test whether an object is a forecast object

## Gain insights about forecasts and inputs

- [`get_forecast_counts()`](https://epiforecasts.io/scoringutils/dev/reference/get_forecast_counts.md)
  : Count number of available forecasts
- [`print(`*`<forecast>`*`)`](https://epiforecasts.io/scoringutils/dev/reference/print.forecast.md)
  : Print information about a forecast object
- [`get_duplicate_forecasts()`](https://epiforecasts.io/scoringutils/dev/reference/get_duplicate_forecasts.md)
  : Find duplicate forecasts
- [`get_forecast_unit()`](https://epiforecasts.io/scoringutils/dev/reference/get_forecast_unit.md)
  : Get unit of a single forecast
- [`get_grouping()`](https://epiforecasts.io/scoringutils/dev/reference/get_grouping.md)
  : Get grouping for a multivariate forecast

## Transform data

- [`as_forecast_binary()`](https://epiforecasts.io/scoringutils/dev/reference/as_forecast_binary.md)
  :

  Create a `forecast` object for binary forecasts

- [`as_forecast_multivariate_point()`](https://epiforecasts.io/scoringutils/dev/reference/as_forecast_multivariate_point.md)
  :

  Create a `forecast` object for multivariate point forecasts

- [`as_forecast_multivariate_sample()`](https://epiforecasts.io/scoringutils/dev/reference/as_forecast_multivariate_sample.md)
  :

  Create a `forecast` object for sample-based multivariate forecasts

- [`as_forecast_nominal()`](https://epiforecasts.io/scoringutils/dev/reference/as_forecast_nominal.md)
  :

  Create a `forecast` object for nominal forecasts

- [`as_forecast_ordinal()`](https://epiforecasts.io/scoringutils/dev/reference/as_forecast_ordinal.md)
  :

  Create a `forecast` object for ordinal forecasts

- [`as_forecast_point()`](https://epiforecasts.io/scoringutils/dev/reference/as_forecast_point.md)
  :

  Create a `forecast` object for point forecasts

- [`as_forecast_quantile()`](https://epiforecasts.io/scoringutils/dev/reference/as_forecast_quantile.md)
  :

  Create a `forecast` object for quantile-based forecasts

- [`as_forecast_sample()`](https://epiforecasts.io/scoringutils/dev/reference/as_forecast_sample.md)
  :

  Create a `forecast` object for sample-based forecasts

- [`log_shift()`](https://epiforecasts.io/scoringutils/dev/reference/log_shift.md)
  : Log transformation with an additive shift

- [`transform_forecasts()`](https://epiforecasts.io/scoringutils/dev/reference/transform_forecasts.md)
  : Transform forecasts and observed values

## Handling metrics/scoring functions

- [`get_metrics()`](https://epiforecasts.io/scoringutils/dev/reference/get_metrics.md)
  : Get metrics
- [`get_metrics(`*`<forecast_binary>`*`)`](https://epiforecasts.io/scoringutils/dev/reference/get_metrics.forecast_binary.md)
  : Get default metrics for binary forecasts
- [`get_metrics(`*`<forecast_multivariate_point>`*`)`](https://epiforecasts.io/scoringutils/dev/reference/get_metrics.forecast_multivariate_point.md)
  : Get default metrics for multivariate point forecasts
- [`get_metrics(`*`<forecast_multivariate_sample>`*`)`](https://epiforecasts.io/scoringutils/dev/reference/get_metrics.forecast_multivariate_sample.md)
  [`get_metrics(`*`<forecast_sample_multivariate>`*`)`](https://epiforecasts.io/scoringutils/dev/reference/get_metrics.forecast_multivariate_sample.md)
  : Get default metrics for sample-based forecasts
- [`get_metrics(`*`<forecast_nominal>`*`)`](https://epiforecasts.io/scoringutils/dev/reference/get_metrics.forecast_nominal.md)
  : Get default metrics for nominal forecasts
- [`get_metrics(`*`<forecast_ordinal>`*`)`](https://epiforecasts.io/scoringutils/dev/reference/get_metrics.forecast_ordinal.md)
  : Get default metrics for nominal forecasts
- [`get_metrics(`*`<forecast_point>`*`)`](https://epiforecasts.io/scoringutils/dev/reference/get_metrics.forecast_point.md)
  : Get default metrics for point forecasts
- [`get_metrics(`*`<forecast_quantile>`*`)`](https://epiforecasts.io/scoringutils/dev/reference/get_metrics.forecast_quantile.md)
  : Get default metrics for quantile-based forecasts
- [`get_metrics(`*`<forecast_sample>`*`)`](https://epiforecasts.io/scoringutils/dev/reference/get_metrics.forecast_sample.md)
  : Get default metrics for sample-based forecasts
- [`get_metrics(`*`<scores>`*`)`](https://epiforecasts.io/scoringutils/dev/reference/get_metrics.scores.md)
  : Get names of the metrics that were used for scoring
- [`select_metrics()`](https://epiforecasts.io/scoringutils/dev/reference/select_metrics.md)
  : Select metrics from a list of functions

## Evaluate forecasts

- [`add_relative_skill()`](https://epiforecasts.io/scoringutils/dev/reference/add_relative_skill.md)
  : Add relative skill scores based on pairwise comparisons

- [`get_correlations()`](https://epiforecasts.io/scoringutils/dev/reference/get_correlations.md)
  : Calculate correlation between metrics

- [`get_coverage()`](https://epiforecasts.io/scoringutils/dev/reference/get_coverage.md)
  : Get quantile and interval coverage values for quantile-based
  forecasts

- [`get_pairwise_comparisons()`](https://epiforecasts.io/scoringutils/dev/reference/get_pairwise_comparisons.md)
  : Obtain pairwise comparisons between models

- [`get_pit_histogram()`](https://epiforecasts.io/scoringutils/dev/reference/get_pit_histogram.md)
  : Probability integral transformation histogram

- [`score()`](https://epiforecasts.io/scoringutils/dev/reference/score.md)
  : Evaluate forecasts

- [`summarise_scores()`](https://epiforecasts.io/scoringutils/dev/reference/summarise_scores.md)
  [`summarize_scores()`](https://epiforecasts.io/scoringutils/dev/reference/summarise_scores.md)
  :

  Summarise scores as produced by
  [`score()`](https://epiforecasts.io/scoringutils/dev/reference/score.md)

## Lower-level scoring functions

- [`ae_median_quantile()`](https://epiforecasts.io/scoringutils/dev/reference/ae_median_quantile.md)
  : Absolute error of the median (quantile-based version)
- [`ae_median_sample()`](https://epiforecasts.io/scoringutils/dev/reference/ae_median_sample.md)
  : Absolute error of the median (sample-based version)
- [`bias_quantile()`](https://epiforecasts.io/scoringutils/dev/reference/bias_quantile.md)
  : Determines bias of quantile forecasts
- [`bias_sample()`](https://epiforecasts.io/scoringutils/dev/reference/bias_sample.md)
  : Determine bias of forecasts
- [`crps_sample()`](https://epiforecasts.io/scoringutils/dev/reference/crps_sample.md)
  [`dispersion_sample()`](https://epiforecasts.io/scoringutils/dev/reference/crps_sample.md)
  [`overprediction_sample()`](https://epiforecasts.io/scoringutils/dev/reference/crps_sample.md)
  [`underprediction_sample()`](https://epiforecasts.io/scoringutils/dev/reference/crps_sample.md)
  : (Continuous) ranked probability score
- [`dss_sample()`](https://epiforecasts.io/scoringutils/dev/reference/dss_sample.md)
  : Dawid-Sebastiani score
- [`interval_coverage()`](https://epiforecasts.io/scoringutils/dev/reference/interval_coverage.md)
  : Interval coverage (for quantile-based forecasts)
- [`interval_score()`](https://epiforecasts.io/scoringutils/dev/reference/interval_score.md)
  : Interval score
- [`logs_sample()`](https://epiforecasts.io/scoringutils/dev/reference/logs_sample.md)
  : Logarithmic score (sample-based version)
- [`mad_sample()`](https://epiforecasts.io/scoringutils/dev/reference/mad_sample.md)
  : Determine dispersion of a probabilistic forecast
- [`pit_histogram_sample()`](https://epiforecasts.io/scoringutils/dev/reference/pit_histogram_sample.md)
  : Probability integral transformation for counts
- [`quantile_score()`](https://epiforecasts.io/scoringutils/dev/reference/quantile_score.md)
  : Quantile score
- [`rps_ordinal()`](https://epiforecasts.io/scoringutils/dev/reference/rps_ordinal.md)
  : Ranked Probability Score for ordinal outcomes
- [`brier_score()`](https://epiforecasts.io/scoringutils/dev/reference/scoring-functions-binary.md)
  [`logs_binary()`](https://epiforecasts.io/scoringutils/dev/reference/scoring-functions-binary.md)
  : Metrics for binary outcomes
- [`logs_categorical()`](https://epiforecasts.io/scoringutils/dev/reference/scoring-functions-nominal.md)
  : Log score for categorical outcomes
- [`se_mean_sample()`](https://epiforecasts.io/scoringutils/dev/reference/se_mean_sample.md)
  : Squared error of the mean (sample-based version)
- [`variogram_score_multivariate()`](https://epiforecasts.io/scoringutils/dev/reference/variogram_score_multivariate.md)
  : Variogram score for multivariate forecasts
- [`variogram_score_multivariate_point()`](https://epiforecasts.io/scoringutils/dev/reference/variogram_score_multivariate_point.md)
  : Variogram score for multivariate point forecasts
- [`wis()`](https://epiforecasts.io/scoringutils/dev/reference/wis.md)
  [`dispersion_quantile()`](https://epiforecasts.io/scoringutils/dev/reference/wis.md)
  [`overprediction_quantile()`](https://epiforecasts.io/scoringutils/dev/reference/wis.md)
  [`underprediction_quantile()`](https://epiforecasts.io/scoringutils/dev/reference/wis.md)
  : Weighted interval score (WIS)

## Functions for plotting and data visualisation

- [`plot_correlations()`](https://epiforecasts.io/scoringutils/dev/reference/plot_correlations.md)
  : Plot correlation between metrics
- [`plot_forecast_counts()`](https://epiforecasts.io/scoringutils/dev/reference/plot_forecast_counts.md)
  : Visualise the number of available forecasts
- [`plot_heatmap()`](https://epiforecasts.io/scoringutils/dev/reference/plot_heatmap.md)
  : Create a heatmap of a scoring metric
- [`plot_interval_coverage()`](https://epiforecasts.io/scoringutils/dev/reference/plot_interval_coverage.md)
  : Plot interval coverage
- [`plot_pairwise_comparisons()`](https://epiforecasts.io/scoringutils/dev/reference/plot_pairwise_comparisons.md)
  : Plot heatmap of pairwise comparisons
- [`plot_quantile_coverage()`](https://epiforecasts.io/scoringutils/dev/reference/plot_quantile_coverage.md)
  : Plot quantile coverage
- [`plot_wis()`](https://epiforecasts.io/scoringutils/dev/reference/plot_wis.md)
  : Plot contributions to the weighted interval score
- [`theme_scoringutils()`](https://epiforecasts.io/scoringutils/dev/reference/theme_scoringutils.md)
  : Scoringutils ggplot2 theme

## Internal functions

### Internal input check functions

- [`assert_dims_ok_point()`](https://epiforecasts.io/scoringutils/dev/reference/assert_dims_ok_point.md)
  : Assert Inputs Have Matching Dimensions
- [`assert_forecast_generic()`](https://epiforecasts.io/scoringutils/dev/reference/assert_forecast_generic.md)
  : Validation common to all forecast types
- [`assert_forecast_type()`](https://epiforecasts.io/scoringutils/dev/reference/assert_forecast_type.md)
  : Assert that forecast type is as expected
- [`assert_input_binary()`](https://epiforecasts.io/scoringutils/dev/reference/assert_input_binary.md)
  : Assert that inputs are correct for binary forecast
- [`assert_input_categorical()`](https://epiforecasts.io/scoringutils/dev/reference/assert_input_categorical.md)
  : Assert that inputs are correct for categorical forecasts
- [`assert_input_interval()`](https://epiforecasts.io/scoringutils/dev/reference/assert_input_interval.md)
  : Assert that inputs are correct for interval-based forecast
- [`assert_input_multivariate_sample()`](https://epiforecasts.io/scoringutils/dev/reference/assert_input_multivariate_sample.md)
  : Assert that inputs are correct for sample-based forecast
- [`assert_input_nominal()`](https://epiforecasts.io/scoringutils/dev/reference/assert_input_nominal.md)
  : Assert that inputs are correct for nominal forecasts
- [`assert_input_ordinal()`](https://epiforecasts.io/scoringutils/dev/reference/assert_input_ordinal.md)
  : Assert that inputs are correct for ordinal forecasts
- [`assert_input_point()`](https://epiforecasts.io/scoringutils/dev/reference/assert_input_point.md)
  : Assert that inputs are correct for point forecast
- [`assert_input_quantile()`](https://epiforecasts.io/scoringutils/dev/reference/assert_input_quantile.md)
  : Assert that inputs are correct for quantile-based forecast
- [`assert_input_sample()`](https://epiforecasts.io/scoringutils/dev/reference/assert_input_sample.md)
  : Assert that inputs are correct for sample-based forecast
- [`check_columns_present()`](https://epiforecasts.io/scoringutils/dev/reference/check_columns_present.md)
  : Check column names are present in a data.frame
- [`check_dims_ok_point()`](https://epiforecasts.io/scoringutils/dev/reference/check_dims_ok_point.md)
  : Check Inputs Have Matching Dimensions
- [`check_duplicates()`](https://epiforecasts.io/scoringutils/dev/reference/check_duplicates.md)
  : Check that there are no duplicate forecasts
- [`check_input_binary()`](https://epiforecasts.io/scoringutils/dev/reference/check_input_binary.md)
  : Check that inputs are correct for binary forecast
- [`check_input_interval()`](https://epiforecasts.io/scoringutils/dev/reference/check_input_interval.md)
  : Check that inputs are correct for interval-based forecast
- [`check_input_point()`](https://epiforecasts.io/scoringutils/dev/reference/check_input_point.md)
  : Check that inputs are correct for point forecast
- [`check_input_quantile()`](https://epiforecasts.io/scoringutils/dev/reference/check_input_quantile.md)
  : Check that inputs are correct for quantile-based forecast
- [`check_input_sample()`](https://epiforecasts.io/scoringutils/dev/reference/check_input_sample.md)
  : Check that inputs are correct for sample-based forecast
- [`check_number_per_forecast()`](https://epiforecasts.io/scoringutils/dev/reference/check_number_per_forecast.md)
  : Check that all forecasts have the same number of rows
- [`check_numeric_vector()`](https://epiforecasts.io/scoringutils/dev/reference/check_numeric_vector.md)
  : Check whether an input is an atomic vector of mode 'numeric'
- [`check_try()`](https://epiforecasts.io/scoringutils/dev/reference/check_try.md)
  : Helper function to convert assert statements into checks
- [`energy_score_multivariate()`](https://epiforecasts.io/scoringutils/dev/reference/energy_score_multivariate.md)
  : Energy score for multivariate forecasts
- [`get_forecast_type()`](https://epiforecasts.io/scoringutils/dev/reference/get_forecast_type.md)
  : Get forecast type from forecast object
- [`get_type()`](https://epiforecasts.io/scoringutils/dev/reference/get_type.md)
  : Get type of a vector or matrix of observed values or predictions
- [`test_columns_not_present()`](https://epiforecasts.io/scoringutils/dev/reference/test_columns_not_present.md)
  : Test whether column names are NOT present in a data.frame
- [`test_columns_present()`](https://epiforecasts.io/scoringutils/dev/reference/test_columns_present.md)
  : Test whether all column names are present in a data.frame
- [`validate_metrics()`](https://epiforecasts.io/scoringutils/dev/reference/validate_metrics.md)
  : Validate metrics

### Misc internal functions

- [`apply_metrics()`](https://epiforecasts.io/scoringutils/dev/reference/apply_metrics.md)
  : Apply a list of functions to a data table of forecasts

- [`as_scores()`](https://epiforecasts.io/scoringutils/dev/reference/as_scores.md)
  :

  Create an object of class `scores` from data

- [`assert_scores()`](https://epiforecasts.io/scoringutils/dev/reference/assert_scores.md)
  :

  Validate an object of class `scores`

- [`bias_quantile_single_vector()`](https://epiforecasts.io/scoringutils/dev/reference/bias_quantile_single_vector.md)
  : Compute bias for a single vector of quantile predictions

- [`clean_forecast()`](https://epiforecasts.io/scoringutils/dev/reference/clean_forecast.md)
  : Clean forecast object

- [`compare_forecasts()`](https://epiforecasts.io/scoringutils/dev/reference/compare_forecasts.md)
  : Compare a subset of common forecasts

- [`document_assert_functions`](https://epiforecasts.io/scoringutils/dev/reference/document_assert_functions.md)
  : Documentation template for assert functions

- [`document_check_functions`](https://epiforecasts.io/scoringutils/dev/reference/document_check_functions.md)
  : Documentation template for check functions

- [`document_test_functions`](https://epiforecasts.io/scoringutils/dev/reference/document_test_functions.md)
  : Documentation template for test functions

- [`ensure_data.table()`](https://epiforecasts.io/scoringutils/dev/reference/ensure_data.table.md)
  :

  Ensure that an object is a `data.table`

- [`forecast_types`](https://epiforecasts.io/scoringutils/dev/reference/forecast_types.md)
  : Documentation template for forecast types

- [`geometric_mean()`](https://epiforecasts.io/scoringutils/dev/reference/geometric_mean.md)
  : Calculate geometric mean

- [`get_protected_columns()`](https://epiforecasts.io/scoringutils/dev/reference/get_protected_columns.md)
  : Get protected columns from data

- [`get_range_from_quantile()`](https://epiforecasts.io/scoringutils/dev/reference/get_range_from_quantile.md)
  : Get interval range belonging to a quantile

- [`illustration-input-metric-binary-point`](https://epiforecasts.io/scoringutils/dev/reference/illustration-input-metric-binary-point.md)
  : Illustration of required inputs for binary and point forecasts

- [`illustration-input-metric-nominal`](https://epiforecasts.io/scoringutils/dev/reference/illustration-input-metric-nominal.md)
  : Illustration of required inputs for nominal forecasts

- [`illustration-input-metric-ordinal`](https://epiforecasts.io/scoringutils/dev/reference/illustration-input-metric-ordinal.md)
  : Illustration of required inputs for ordinal forecasts

- [`illustration-input-metric-quantile`](https://epiforecasts.io/scoringutils/dev/reference/illustration-input-metric-quantile.md)
  : Illustration of required inputs for quantile-based forecasts

- [`illustration-input-metric-sample`](https://epiforecasts.io/scoringutils/dev/reference/illustration-input-metric-sample.md)
  : Illustration of required inputs for sample-based forecasts

- [`interpolate_median()`](https://epiforecasts.io/scoringutils/dev/reference/interpolate_median.md)
  : Helper function to interpolate the median prediction if it is not
  available

- [`new_forecast()`](https://epiforecasts.io/scoringutils/dev/reference/new_forecast.md)
  :

  Class constructor for `forecast` objects

- [`new_scores()`](https://epiforecasts.io/scoringutils/dev/reference/new_scores.md)
  :

  Construct an object of class `scores`

- [`pairwise_comparison_one_group()`](https://epiforecasts.io/scoringutils/dev/reference/pairwise_comparison_one_group.md)
  : Do pairwise comparison for one set of forecasts

- [`permutation_test()`](https://epiforecasts.io/scoringutils/dev/reference/permutation_test.md)
  : Simple permutation test

- [`quantile_to_interval()`](https://epiforecasts.io/scoringutils/dev/reference/quantile_to_interval.md)
  [`quantile_to_interval_dataframe()`](https://epiforecasts.io/scoringutils/dev/reference/quantile_to_interval.md)
  [`quantile_to_interval_numeric()`](https://epiforecasts.io/scoringutils/dev/reference/quantile_to_interval.md)
  : Transform from a quantile format to an interval format

- [`run_safely()`](https://epiforecasts.io/scoringutils/dev/reference/run_safely.md)
  : Run a function safely

- [`sample_to_interval_long()`](https://epiforecasts.io/scoringutils/dev/reference/sample_to_interval_long.md)
  : Change data from a sample-based format to a long interval range
  format

- [`scoringutils`](https://epiforecasts.io/scoringutils/dev/reference/scoringutils-package.md)
  [`scoringutils-package`](https://epiforecasts.io/scoringutils/dev/reference/scoringutils-package.md)
  : scoringutils: Utilities for Scoring and Assessing Predictions

- [`set_grouping()`](https://epiforecasts.io/scoringutils/dev/reference/set_grouping.md)
  : Set grouping

# Articles

### All vignettes

- [Deprecated
  functions](https://epiforecasts.io/scoringutils/dev/articles/Deprecated-functions.md):
- [Deprecated
  Visualisations](https://epiforecasts.io/scoringutils/dev/articles/Deprecated-visualisations.md):
- [Scoring multivariate
  forecasts](https://epiforecasts.io/scoringutils/dev/articles/scoring-multivariate-forecasts.md):
- [Scoring rules in
  \`scoringutils\`](https://epiforecasts.io/scoringutils/dev/articles/scoring-rules.md):
